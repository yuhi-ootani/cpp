
#include "ShrubberyCreationForm.hpp"
#include "Bureaucrat.hpp"

// OrthodoxCanonical AForm
ShrubberyCreationForm::ShrubberyCreationForm()
    : AForm("shrubbery creation", 145, 137), _target("undefined") {
    std::cout << _target << ": " << this->getName()
              << " default(unnamed) Form constructor called.\n";
}

ShrubberyCreationForm::ShrubberyCreationForm(const ShrubberyCreationForm &other)
    : AForm(other), _target(other._target) {
    std::cout << _target << ": " << this->getName() << " Form copy-constructor called\n";
}

ShrubberyCreationForm &ShrubberyCreationForm::operator=(const ShrubberyCreationForm &other) {
    if (this != &other) {
        AForm::operator=(other);
        _target = other._target;
    }
    std::cout << _target << ": "
              << "Form assigment operator called. " << other.getName()
              << "'s signed status and target were only copied.ðŸ’€\n";
    return *this;
}

ShrubberyCreationForm::~ShrubberyCreationForm() {
    std::cout << _target << ": " << this->getName() << " Form destructor called (derived).\n";
}

// paramator constructor
ShrubberyCreationForm::ShrubberyCreationForm(const std::string target)
    : AForm("shrubbery creation", 145, 137), _target(target) {
    std::cout << _target << ": " << this->getName() << " Form constructor called\n";
}

// pure virtual function
void ShrubberyCreationForm::doExecute() const {

    std::string filename = _target + "_shrubbery";
    // std::ofstreamâ€”expect a const char* (a â€œCâ€‘stringâ€) rather than a std::string object
    std::ofstream ofs(filename.c_str());
    if (!ofs) {
        std::cerr << "Error: couldn't open file " << filename << ".\n";
        return;
    }
    writeTrees(ofs);
    // Close (optionalâ€”will be closed automatically in destructor)
    ofs.close();
    std::cout << "Wrote ASCII shrubbery to " << filename << "â€\n";
}

void writeTrees(std::ofstream &ofs) {
    ofs << "                          â–â–\n";
    ofs << "                         â–â–â–‡â–â–              â–Œâ–‰â–‚â–‹â–Ž               â–â–Žâ–Žâ–â–‹â–Šâ–â–Ž\n";
    ofs << "                       â–â–Œâ– â–„â–ˆâ–„â–Ž          â–Žâ–Œâ–â– â–Œâ–ˆâ–ˆâ–†â–‰â–Ž          â–â–â–    â–â–â–ˆâ–†â–‰â–\n";
    ofs << "                       â–‰â–  â–Žâ–…â–ˆâ–†â–‹        â–Žâ–‹â–    â–Œâ–‡â–ˆâ–ˆâ–ˆâ–‰        â–Žâ–       â–â–…â–ˆâ–ˆâ–…â–\n";
    ofs << "                     â–â–‰â–Ž    â–Œâ–‡â–ˆâ–ˆâ–‹       â–â–Ž    â–â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…     â–â–‰â–Œ      â–â–â–â–‡â–ˆâ–ˆâ–ˆâ–‡â–\n";
    ofs << "                     â–ƒâ–â–‰â–Œâ–‹â–Œâ–‹â–â–ˆâ–ˆâ–ˆâ–ˆâ–Œ      â–…â–‚â–‰â–â–Žâ–â–Œâ–Žâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–‡     â–Žâ–‡â–â–‚â–Šâ–‰â–‰â–â–‰â–â–ƒâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–‡â–Œ\n";
    ofs << "                    â–â–Šâ–Šâ–‰â–â–â–â–„â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–Š     â–â–Šâ–â–Œâ–Œâ–Žâ–Œâ–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ƒâ–Ž    â–Žâ–â–Šâ–‹â–Šâ–‰â–‚â–…â–…â–„â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–Šâ–\n";
    ofs << "                   â–â–…â–â–     â–â–Œâ–†â–ˆâ–ˆâ–ˆâ–‹   â–â–ƒâ–Ž     â–Žâ–â–ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–Ž  â–‹â–â–       â–Žâ–‹â–â–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–\n";
    ofs << "              â–â–â–Œâ–ƒâ–â–Žâ–‚â–„â–†â–…â–†â–‡â–ˆâ–‡â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†   â–Œâ–ˆâ–„â–Šâ–‰â–Œâ–â–â–Œâ–Šâ–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„  â–ƒâ–…â–Œâ–Œâ–Žâ–Œâ–‹â–Šâ–‹â–‰â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–\n";
    ofs << "             â–â–  â–Šâ–ˆâ–„â–   â–Žâ–Žâ–Žâ–Žâ–‰â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  â–â–â–…â–‚â–‚â–‚â–‡â–ˆâ–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  â–Žâ–ƒâ–„â–ƒâ–†â–†â–†â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‚â–Ž\n";
    ofs << "            â–â–Ž   â–‹â–ˆâ–ˆâ–„â–â–‰â–â–Šâ–‹â–Šâ–Šâ–‰â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œâ–Žâ–ƒâ–Ž    â–â–Ž â–Šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– â–‹â–Šâ–      â–â–â–Œâ–Œâ–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–\n";
    ofs << "           â–â–    â–â–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–†â–†â–‡â–ˆâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–â–â–ˆâ–‹â–Žâ–â–â–ƒâ–ƒâ–‚â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡ â–ˆâ–‚â–â–     â–â–Žâ–‰â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ƒ\n";
    ofs << "           â–‰â–ƒâ–‚â–‰â–â–ƒâ–„â–ˆâ–ˆâ–ˆâ–ˆâ–‰     â–â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–Œâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– â–‚â–ˆâ–ˆâ–‡â–†â–ƒâ–â–â–‚â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–Š\n";
    ofs << "          â–â–â–â–Žâ–Žâ–‹â–‹â–‰â–…â–ˆâ–ˆâ–ˆâ–ˆâ–‚â–‰â–‰â–‰â–ƒâ–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–â–â–‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‚â–  â–Œâ–â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–‚â–Šâ–Ž\n";
    ofs << "         â–Žâ–…â–„â–„â–‚â–‚â–‚â–ƒâ–ƒâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–†â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    â–Œâ–Šâ–Šâ–‚â–ˆâ–ˆâ–ˆâ–ˆâ–‰â–…â–ƒâ–â–       â–â–‹â–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆâ–…â–‚â–„â–…â–\n";
    ofs << "        â–â–‹â–Œâ–â–Œâ–‹â–â–‰â–â–‚â–„â–…â–ˆâ–ˆâ–ˆâ–‡â–‰â–Žâ–â–â–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰â–     â–Žâ–ƒâ–ˆâ–ˆâ–ˆâ–ƒâ–‚â–           â–Œâ–‚â–â–„â–ˆâ–ˆâ–‡ â–â–â–‹\n";
    ofs << "        â–‰â–‚â–Œâ–Œâ–â–Žâ–Žâ–Žâ–â–â–‹â–ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰â–â–Œâ–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰    â–Žâ–Œâ–ƒâ–ˆâ–ˆâ–ˆâ–              â–Šâ–„â–†â–ˆâ–ˆâ–‡â–Œâ–ƒâ–‹â–\n";
    ofs << "        â–â–ƒâ–„â–„â–†â–†â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–‹     â–‹â–…â–ˆâ–ˆâ–ˆ                â–â–†â–ˆâ–ˆâ–ˆâ–‚â– \n";
    ofs << "      â–â–ƒâ–Œ     â–â–Žâ–â–‹â–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ƒâ–…â–â–‰â–‚â–‹â–Šâ–‹â–       â–‚â–ˆâ–ˆâ–ˆâ–â–               â–…â–ˆâ–ˆâ–ˆ   \n";
    ofs << "      â–â–‰â–ˆâ–†â–ƒâ–‚â–‚â–â–‚â–‚â–‚â–‚â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡                â–‚â–ˆâ–ˆâ–ˆâ–                â–…â–ˆâ–ˆâ–ˆâ–Ž  \n";
    ofs << "      â–‹â–Œâ–Œâ–Šâ–Šâ–â–â–ƒâ–‚â–„â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹â–â–          â–â–Šâ–‰â–ˆâ–ˆâ–ˆâ–ˆâ–„â–Œâ–           â–â–Œâ–‚â–ˆâ–ˆâ–ˆâ–ˆâ–†â–Šâ–Œâ–\n";
    ofs << "     â–‰â–†â–‹â–Œâ–Žâ–â–  â–â– â–Žâ–‚â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–ƒâ–‹â–     â–‹â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–ˆâ–ˆâ–ˆâ–ˆâ–…â–Šâ–Ž     â–â–â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„â–â–Žâ– \n";
    ofs << "     â–â–Šâ–ƒâ–…â–ˆâ–ˆâ–ˆâ–‡â–‡â–ˆâ–ˆâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–ƒâ–‹â–â–â–â–â–â–â–     â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–     â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–\n";
    ofs << "         â–â–â–Žâ–â–â–Šâ–ˆâ–ˆâ–ˆâ–…â–Ž â–Žâ–â–â–  \n";
    ofs << "              â–‹â–ˆâ–ˆâ–ˆâ–…     \n";
    ofs << "  â–â–â–â–â–â–Žâ–â–Žâ–Žâ–â–Žâ–Šâ–ƒâ–ˆâ–ˆâ–ˆâ–‡â–‹â–‰â–â–â–â–Ž    \n";
    ofs << " â–Žâ–‰â–‚â–…â–„â–ƒâ–ˆâ–…â–†â–‡â–ˆâ–ˆâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–„â–â–Žâ–    \n";
    ofs << " â–â–â–â–â–â–â–â–â–â–â–â–â–Žâ–â–â–â–Žâ–Žâ–â–â–â–â–â–â–â–â–     \n";
    ofs << " â–â–â–â–â–â–â–â–â–â–â–â–â–Žâ–â–â–â–Žâ–Žâ–â–â–â–â–â–â–â–â–    \n";
}
